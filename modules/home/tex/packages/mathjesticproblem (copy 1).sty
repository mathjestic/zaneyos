\ProvidesPackage{mathjesticproblem}

\RequirePackage{expl3}

\ExplSyntaxOn
% Ensure the flag exists (defaults to false if not set elsewhere)
\bool_if_exist:NF \g_mj_article_bool { \bool_new:N \g_mj_article_bool }

\bool_if:NTF \g_mj_article_bool
  {
    % Article mode: load article layer if present, else warn+fallback to book
    \IfFileExists{mathjesticproblemarticle.sty}
      { \RequirePackage{mathjesticproblemarticle} }
      {
        \PackageWarning{mathjesticproblem}
          {Option `article' is true but `mathjesticproblemarticle.sty' not found. Using book problem layer.}
        \RequirePackage{mathjesticproblembook}
      }
  }
  {
    % Book/default mode
    \RequirePackage{mathjesticproblembook}
  }
\ExplSyntaxOff
